@model Arke.ARS.TechnicianPortal.Models.WorkOrderModel

@using (Html.BeginForm("SubmitTruckEquipment", "WorkOrder", null, FormMethod.Post, new { enctype = "multipart/form-data", id = "submit-truck-stock-request-form" }))
{
    @Html.AntiForgeryToken()
    <input type="hidden" name="id" value="@Model.Id" />
    <div class="modal fade" id="modal-truck-equipment">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title">Truck Stock & Equipment <small>@Model.TicketNumber</small></h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <p><strong>Truck Stock Items</strong></p>
                        <div class="form-group col-sm-2">
                            <label for="truck-stock-quantity" class="sr-only">Quantity</label>
                            <input type="number" class="form-control input-sm" id="truck-stock-quantity" placeholder="QTY" min="0">
                        </div>
                        <div class="form-group col-sm-3">
                            <label for="truck-stock-name" class="sr-only">Item</label>
                            <input class="form-control input-sm" id="truck-stock-name" placeholder="Item">
                        </div>
                        <div class="form-group col-sm-3">
                            <label for="truck-stock-price" class="sr-only">Price each</label>
                            <input class="form-control input-sm" id="truck-stock-price" placeholder="Price each" type="number" min="0">
                        </div>
                        <div class="form-group col-sm-2">
                            <label for="truck-stock-total" class="sr-only">Total</label>
                            <input class="form-control input-sm" id="truck-stock-total" readonly placeholder="Total">
                        </div>
                        <div class="form-group col-sm-1">
                            <button type="button" class="btn btn-primary" id="truck-stock-add-to-list">Add to list</button>
                        </div>
                    </div>
                    <div class="row">
                        <p><strong>Other Equipment Items</strong></p>
                        <div class="form-group col-sm-2">
                            <label for="equipment-quantity" class="sr-only">Quantity</label>
                            <input type="number" class="form-control input-sm" id="equipment-quantity" placeholder="QTY" min="0">
                        </div>
                        <div class="form-group col-sm-3">
                            <label for="equipment-name" class="sr-only">Item</label>
                            <input class="form-control input-sm" id="equipment-name" placeholder="Item">
                        </div>
                        <div class="form-group col-sm-3">
                            <label for="equipment-price" class="sr-only">Price each</label>
                            <input class="form-control input-sm" id="equipment-price" placeholder="Price each" type="number" min="0">
                        </div>
                        <div class="form-group col-sm-2">
                            <label for="equipment-total" class="sr-only">Total</label>
                            <input class="form-control input-sm" id="equipment-total" readonly placeholder="Total">
                        </div>
                        <div class="form-group col-sm-1">
                            <button type="button" class="btn btn-primary" id="equipment-add-to-list">Add to list</button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <table class="table table-striped" id="truck-stock-grid">
                                <thead>
                                    <tr>
                                        <th data-column-id=quantity data-header-css-class="col-md-3">Quantity</th>
                                        <th data-column-id=item data-header-css-class="col-md-6">Item</th>
                                        <th data-column-id=price data-header-css-class="col-md-3" data-formatter="currency">Price</th>
                                        <th data-column-id=total data-header-css-class="col-md-3" data-formatter="total">Total</th>
                                        <th data-column-id="id" data-header-css-class="col-md-1" data-identifier="true" data-formatter="commands" data-sortable="false">&nbsp;</th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-12">
                            Grand Total <strong>$<span id="truck-stock-grid-total">0</span></strong>
                            <div style="text-align:center;">**Please check that total does not exceed the NTE amount**</div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group col-sm-12">
                            NTE <strong>$@Model.NteMoney.ToString("F2")</strong>
                        </div>
                    </div>                
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="submit-truck-stock-request">Submit truck & equipment request</button>
                </div>
            </div>
        </div>
    </div>
}